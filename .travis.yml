language: haskell

ghc:
  - "8.4"
  - "8.6"

before_install:
  - printf "packages\u3A \u2A/\u2A.cabal\n" > cabal.project
  - cabal update
  - cabal install hpack
  - cabal exec hpack dimensions/package.yaml
  - cabal exec hpack easytensor/package.yaml


install:
  - cabal new-build all --ghc-options="-O0" --enable-tests --dependencies-only

script:
  - cabal new-build all --ghc-options="-O0" --enable-tests
  - cabal new-test all --ghc-options="-O0"
