language: haskell
ghc:
  - "8.0"
  - "8.2"
#  - "head" # need to resolve some errors first
env:
  - PACKAGEDIR="dimensions"
  - PACKAGEDIR="easytensor"
before_install: cd ${PACKAGEDIR}
install:
  - cabal install cpphs
  - cabal install --only-dependencies --enable-tests

script:
  - cabal configure --enable-tests --ghc-options="-O0"
  - cabal build
  - cabal test
